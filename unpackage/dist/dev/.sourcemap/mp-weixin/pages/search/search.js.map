{"version":3,"sources":["webpack:///E:/HBuilderXWork/仿小米商城/main.js","webpack:///E:/HBuilderXWork/仿小米商城/pages/search/search.vue?365e","webpack:///E:/HBuilderXWork/仿小米商城/pages/search/search.vue?5fa6","webpack:///E:/HBuilderXWork/仿小米商城/pages/search/search.vue?a4c8","webpack:///E:/HBuilderXWork/仿小米商城/pages/search/search.vue?2a7d","webpack:///E:/HBuilderXWork/仿小米商城/pages/search/search.vue"],"names":["createPage","Page","components","card","colorTag","uniListItem","data","keyword","hot","name","cate","historyList","onNavigationBarButtonTap","e","index","search","onNavigationBarSearchInputChanged","text","onNavigationBarSearchInputConfirmed","uni","hideKeyboard","onLoad","__init","$on","onUnload","$off","updated","console","log","methods","quickSearch","getStorageSync","JSON","parse","clearHistory","showModal","title","content","success","res","confirm","removeStorageSync","showToast","icon","searchComfirm","navigateTo","url","setTimeout","addHistory","indexOf","unshift","splice","length","setStorageSync","stringify","openSearchList"],"mappings":"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","file":"pages/search/search.js","sourcesContent":["import 'uni-pages';\nimport Vue from 'vue'\nimport Page from './pages/search/search.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./search.vue?vue&type=template&id=f2db52ae&\"\nvar renderjs\nimport script from \"./search.vue?vue&type=script&lang=js&\"\nexport * from \"./search.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"HBuilderXWork/仿小米商城/pages/search/search.vue\"\nexport default component.exports","export * from \"-!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./search.vue?vue&type=template&id=f2db52ae&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./search.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./search.vue?vue&type=script&lang=js&\"","//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport card from '@/components/common/card.vue'\nimport colorTag from '@/components/search/color-tag.vue'\nimport uniListItem from '@/components/uni-ui/uni-list-item/uni-list-item.vue'\nexport default {\n\tcomponents: {\n\t\tcard,\n\t\tcolorTag,\n\t\tuniListItem\n\t},\n\tdata() {\n\t\treturn {\n\t\t\tkeyword: '',\n\t\t\thot: [{\n\t\t\t\t\tname: '领券中心'\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tname: 'Readmi k20'\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tname: 'ReadmiBook 14'\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tname: '智能积木 越野四驱车'\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tname: '手环 腕带'\n\t\t\t\t}\n\t\t\t],\n\t\t\tcate: [{\n\t\t\t\t\tname: '耳机'\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tname: '手机'\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tname: '音响'\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tname: '手表'\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tname: '配件'\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tname: '网关/传感器'\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tname: '健康'\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tname: '酷玩'\n\t\t\t\t}\n\t\t\t],\n\t\t\thistoryList: []\n\t\t}\n\t},\n\tonNavigationBarButtonTap(e) {\n\t\tif (e.index === 0) {\n\t\t\tthis.search()\n\t\t}\n\t},\n\tonNavigationBarSearchInputChanged(e) {\n\t\tthis.keyword = e.text\n\t},\n\tonNavigationBarSearchInputConfirmed() {\n\t\tthis.search()\n\n\n\n\n\t\tuni.hideKeyboard()\n\n\t},\n\tonLoad() {\n\t\tthis.__init()\n\t\t// 开启监听选择收货地址事件\n\t\tuni.$on('refresh', keyword => {\n\t\t\tthis.keyword = keyword\n\t\t\tthis.__init()\n\t\t})\n\t},\n\tonUnload() {\n\t\tuni.$off('refresh', () => {})\n\t},\n\tupdated() {\n\t\tconsole.log(this.keyword)\n\t},\n\tmethods: {\n\t\tquickSearch(name) {\n\t\t\tthis.keyword = name\n\t\t\tthis.search()\n\t\t},\n\t\t__init() {\n\t\t\tthis.historyList = uni.getStorageSync(\"searchHistory\") ? JSON.parse(uni.getStorageSync(\"searchHistory\")) : []\n\t\t},\n\t\t// 清除搜索历史\n\t\tclearHistory() {\n\t\t\tuni.showModal({\n\t\t\t\ttitle: '提示',\n\t\t\t\tcontent: '是否要清除搜索历史?',\n\t\t\t\tsuccess: res => {\n\t\t\t\t\tif (res.confirm) {\n\t\t\t\t\t\tthis.historyList = []\n\t\t\t\t\t\tuni.removeStorageSync('searchHistory')\n\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\ttitle: '清除成功',\n\t\t\t\t\t\t\ticon: 'none'\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t});\n\t\t},\n\t\tsearchComfirm() {\n\t\t\tthis.search()\n\t\t},\n\t\tsearch() {\n\t\t\tif (this.keyword === '') {\n\t\t\t\treturn uni.showToast({\n\t\t\t\t\ttitle: '关键词不能为空',\n\t\t\t\t\ticon: 'none'\n\t\t\t\t});\n\t\t\t}\n\t\t\tuni.navigateTo({\n\t\t\t\turl: '../search-list/search-list?keyword=' + this.keyword\n\t\t\t});\n\t\t\tsetTimeout(() => {\n\t\t\t\tthis.addHistory()\n\t\t\t}, 500)\n\n\t\t},\n\t\t// 加入搜索记录\n\t\taddHistory() {\n\t\t\tlet index = this.historyList.indexOf(this.keyword)\n\t\t\tif (index === -1) {\n\t\t\t\tthis.historyList.unshift(this.keyword)\n\t\t\t} else {\n\t\t\t\tthis.historyList.unshift(this.historyList.splice(index, 1)[0])\n\t\t\t}\n\t\t\t// 移除最后一条\n\t\t\tif(this.historyList.length>6){\n\t\t\t\tthis.historyList.splice(this.historyList.length-1,1)\n\t\t\t}\n\t\t\tuni.setStorageSync('searchHistory', JSON.stringify(this.historyList))\n\t\t},\n\t\topenSearchList() {\n\t\t\tuni.navigateTo({\n\t\t\t\turl: '../search-list/search-list'\n\t\t\t})\n\t\t}\n\t}\n}\n"],"sourceRoot":""}